<section class="content-header">
	<form class="form-horizontal" name="contactmapform" ng-submit="save(contactmapform.$valid, csv,li)" novalidate>
		<section class="content-header">
			<h1 class="box-title">
				<span style="margin-right:6px;">
					<i class="fa fa-envelope"></i>
				</span> Import Contacts</h1>
			<ol class="breadcrumb">
				<li>
					<a ui-sref="app.landing" href="#/">
						<i class="fa fa-dashboard"></i> Home</a>
				</li>
				<li class="active">Contacts</li>
			</ol>
		</section>
		<section class="content">

			<article class="section">
				<div class="row">
					<div class="col-sm-12 col-md-12">
						<div class="box box-primary import-contacts">
							<div class="box-header">Import Contacts</div>
							<div ng-if="vm.alerts.length>0" class="alert alert-{{alert.type}} alert-styling" ng-repeat="alert in vm.alerts">
								<h4>{{alert.title}}</h4>
								<p>{{alert.msg}}</p>
							</div>
							<div class="box-body">
								<div class="import-contacts-container">
									<div class="import-steps">
										<ul>
											<li class="barprogress barprogress-completed">UPLOAD
												<span>UPLOAD</span>
											</li>
											<li class="barprogress">MAP COLUMNS
												<span>MAP COLUMNS</span>
											</li>
											<li>REVIEW
												<span>REVIEW</span>
											</li>
										</ul>
									</div>
								</div>
								<p class="text-center">Match each column from your CSV on the left with fields on right</p>
								<div class="import-form">
									<div class="form-group" ng-repeat="item in csvfields" ng-if="item">
										<div class="row">
											<label class="col-sm-4">{{item |rmunderscore}}</label>
											<div class="col-sm-5">
												<select class="form-control custom" ng-model="data.csv[item]" name="{{item}}">
													<option value="" ng-selected="true">Do not import this field</option>
													<option ng-repeat="item in dbfields" value="{{item}}">{{item|rmunderscore}}</option>
												</select>
											</div>
										</div>
									</div>
									<div class="form-group select-list">
										<div class="row">
											<label class="col-sm-4">List</label>
											<div class="col-sm-5">
												<tags-input ng-model="selectedList" display-property="name" placeholder="Select/Search List.." track-by-expr="$index" replace-spaces-with-dashes="false"
												 add-from-autocomplete-only="true" key-property="id">
													<auto-complete source="loadlistings($query)" min-length="0" load-on-focus="true" load-on-empty="true" max-results-to-show="32"></auto-complete>
												</tags-input>
											</div>
										</div>
									</div>
								</div>
								<div class="box-footer">
									<a ui-sref="app.emimport-contacts" class="btn btn-primary">
										<i class="fa fa-angle-left"></i> Back</a>

									<button type="submit" class="btn btn-primary pull-right" ng-disabled="contactmapform.$invalid">Review</button>
									<a href="#" class="btn btn-success pull-right">Cancel</a>
								</div>
	</form>
	</div>
	</div>
	</div>
	</div>

	</article>
	</section>